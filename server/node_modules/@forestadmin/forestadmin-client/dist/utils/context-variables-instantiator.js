"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const context_variables_1 = __importDefault(require("./context-variables"));
class ContextVariablesInstantiator {
    constructor(renderingPermissionService) {
        this.renderingPermissionService = renderingPermissionService;
    }
    async buildContextVariables({ requestContextVariables = {}, renderingId, userId, }) {
        const team = await this.renderingPermissionService.getTeam(renderingId);
        const user = await this.renderingPermissionService.getUser(userId);
        return new context_variables_1.default({ requestContextVariables, team, user });
    }
}
exports.default = ContextVariablesInstantiator;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29udGV4dC12YXJpYWJsZXMtaW5zdGFudGlhdG9yLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3V0aWxzL2NvbnRleHQtdmFyaWFibGVzLWluc3RhbnRpYXRvci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLDRFQUFnRjtBQUloRixNQUFxQiw0QkFBNEI7SUFDL0MsWUFBNkIsMEJBQXNEO1FBQXRELCtCQUEwQixHQUExQiwwQkFBMEIsQ0FBNEI7SUFBRyxDQUFDO0lBRWhGLEtBQUssQ0FBQyxxQkFBcUIsQ0FBQyxFQUNqQyx1QkFBdUIsR0FBRyxFQUFFLEVBQzVCLFdBQVcsRUFDWCxNQUFNLEdBS1A7UUFDQyxNQUFNLElBQUksR0FBRyxNQUFNLElBQUksQ0FBQywwQkFBMEIsQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDeEUsTUFBTSxJQUFJLEdBQUcsTUFBTSxJQUFJLENBQUMsMEJBQTBCLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBRW5FLE9BQU8sSUFBSSwyQkFBZ0IsQ0FBQyxFQUFFLHVCQUF1QixFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDO0lBQ3ZFLENBQUM7Q0FDRjtBQWpCRCwrQ0FpQkMifQ==