"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const collection_decorator_1 = __importDefault(require("../collection-decorator"));
/**
 * This decorator allows to override parts of the collections schema.
 * It can be used to toggle off collection level capabilities for performance
 * (for now, list-view counts and the search bar)
 */
class SchemaCollectionDecorator extends collection_decorator_1.default {
    constructor() {
        super(...arguments);
        this.schemaOverride = {};
    }
    overrideSchema(value) {
        Object.assign(this.schemaOverride, value);
        this.markSchemaAsDirty();
    }
    refineSchema(subSchema) {
        return { ...subSchema, ...this.schemaOverride };
    }
}
exports.default = SchemaCollectionDecorator;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29sbGVjdGlvbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9kZWNvcmF0b3JzL3NjaGVtYS9jb2xsZWN0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBRUEsbUZBQTBEO0FBRTFEOzs7O0dBSUc7QUFDSCxNQUFxQix5QkFBMEIsU0FBUSw4QkFBbUI7SUFBMUU7O1FBQ1UsbUJBQWMsR0FBOEIsRUFBRSxDQUFDO0lBVXpELENBQUM7SUFSQyxjQUFjLENBQUMsS0FBZ0M7UUFDN0MsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQzFDLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO0lBQzNCLENBQUM7SUFFa0IsWUFBWSxDQUFDLFNBQTJCO1FBQ3pELE9BQU8sRUFBRSxHQUFHLFNBQVMsRUFBRSxHQUFHLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztJQUNsRCxDQUFDO0NBQ0Y7QUFYRCw0Q0FXQyJ9