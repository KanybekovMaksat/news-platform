import { AggregateResult, Aggregation, Caller, CollectionSchema, Filter, PaginatedFilter, Projection, RecordData, RelationSchema } from '@forestadmin/datasource-toolkit';
import { RelationDefinition } from './types';
import CollectionDecorator from '../collection-decorator';
import DataSourceDecorator from '../datasource-decorator';
export default class RelationCollectionDecorator extends CollectionDecorator {
    readonly dataSource: DataSourceDecorator<RelationCollectionDecorator>;
    protected relations: Record<string, RelationSchema>;
    addRelation(name: string, partialJoint: RelationDefinition): void;
    list(caller: Caller, filter: PaginatedFilter, projection: Projection): Promise<RecordData[]>;
    aggregate(caller: Caller, filter: Filter, aggregation: Aggregation, limit?: number): Promise<AggregateResult[]>;
    protected refineSchema(subSchema: CollectionSchema): CollectionSchema;
    protected refineFilter(caller: Caller, filter: PaginatedFilter): Promise<PaginatedFilter>;
    private relationWithOptionalFields;
    private checkForeignKeys;
    private checkOriginKeys;
    private static checkKeys;
    private static checkColumn;
    private rewriteField;
    private rewriteLeaf;
    private reprojectInPlace;
    private reprojectRelationInPlace;
}
//# sourceMappingURL=collection.d.ts.map