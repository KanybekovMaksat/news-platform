"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/** Generate a mongo pipeline which applies a forest admin projection */
class ProjectionGenerator {
    static project(projection) {
        if (projection.length === 0) {
            return [{ $replaceRoot: { newRoot: { $literal: {} } } }];
        }
        const project = { _id: false };
        for (const field of projection) {
            const formattedField = field.replace(/:/g, '.');
            project[formattedField] = true;
        }
        return [{ $project: project }];
    }
}
exports.default = ProjectionGenerator;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvamVjdGlvbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy91dGlscy9waXBlbGluZS9wcm9qZWN0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBR0Esd0VBQXdFO0FBQ3hFLE1BQXFCLG1CQUFtQjtJQUN0QyxNQUFNLENBQUMsT0FBTyxDQUFDLFVBQXNCO1FBQ25DLElBQUksVUFBVSxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7WUFDM0IsT0FBTyxDQUFDLEVBQUUsWUFBWSxFQUFFLEVBQUUsT0FBTyxFQUFFLEVBQUUsUUFBUSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1NBQzFEO1FBRUQsTUFBTSxPQUFPLEdBQXNDLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxDQUFDO1FBRWxFLEtBQUssTUFBTSxLQUFLLElBQUksVUFBVSxFQUFFO1lBQzlCLE1BQU0sY0FBYyxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1lBQ2hELE9BQU8sQ0FBQyxjQUFjLENBQUMsR0FBRyxJQUFJLENBQUM7U0FDaEM7UUFFRCxPQUFPLENBQUMsRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLENBQUMsQ0FBQztJQUNqQyxDQUFDO0NBQ0Y7QUFmRCxzQ0FlQyJ9