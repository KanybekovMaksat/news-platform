import { RecordData } from '@forestadmin/datasource-toolkit';
/**
 * Replace dots by underscores.
 *
 * @example
 * escape('a.b') == 'a_b'
 */
export declare function escape(str: string): string;
/**
 * Set a value in a plain object recursively
 *
 * @example
 * const a = {};
 * recursiveSet(a, 'field.subfield', 42);
 * a == { field: { subfield: 42 } }
 */
export declare function recursiveSet(target: any, path: string, value: unknown): void;
/**
 * Remove a value in a plain object recursively
 * If the value is an object and is empty, it will be removed.
 *
 * @example
 * const a = { field: { subfield: 42 } };
 * recursiveDelete(a, 'field.subfield');
 * a == {  }
 */
export declare function recursiveDelete(target: any, path: string): void;
/**
 * Compare two ids.
 * This is useful to ensure we perform array operations in the right order.
 *
 * @example
 * compareIds('a.20.a', 'a.1.b') => 1 (because 1 < 20)
 * compareIds('a.0.a', 'b.1.b') => -1 (because 'a' < 'b')
 */
export declare function compareIds(a: string, b: string): number;
/**
 * Split the fake ids which are generated when using the `asModel` option into rootId + path.
 *
 * @example
 * splitId('123.some.path.0.to.the.item) == [123, 'some.path.0.to.the.item]
 */
export declare function splitId(id: string): [unknown, string];
/**
 * Group the fake ids which are generated when using the `asModel` option by the path they are
 * targeting to help performing requests.
 *
 * @example
 * groupIdsByPath(['123.field', '456.field']) == { field: [123, 456] }
 */
export declare function groupIdsByPath(ids: string[]): {
    [path: string]: unknown[];
};
/**
 * Replace ObjectId and Date instances in records by strings.
 *
 * @example
 * replaceMongoTypes({_id: ObjectId('12312321313'), createdAt: Date() })
 * == { _id: '12312321313', createdAt: '2010-01-01T00:00:00Z' }
 */
export declare function replaceMongoTypes(records: any): any;
/**
 * Takes a patch that was built to be applied on a subdocument, and returns a patch that can be
 * applied on the parent document.
 *
 * @example
 * nestPatch('authors.1', { _id: '123', name: 'Asimov'}, false)
 *  == nestPatch('authors.1.name', { _id: '123', content: 'Asimov'}, true)
 *  == { 'authors.1.name': 'Asimov' }
 */
export declare function buildSubdocumentPatch(path: string, patch: RecordData, isLeaf: boolean): RecordData;
/**
 * Unflattend patches and records
 */
export declare function unflattenRecord(record: RecordData, asFields: string[], patchMode?: boolean): RecordData;
/**
 * Similar to projection.unnest
 * @example
 * unnest(['firstname', 'book.title', 'book.author'], 'book') == ['title', 'author']
 */
export declare function unnest(strings: string[], prefix: string): string[];
//# sourceMappingURL=helpers.d.ts.map